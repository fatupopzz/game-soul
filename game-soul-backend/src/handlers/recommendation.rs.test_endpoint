/// Endpoint de prueba que utiliza la función simplificada directamente
pub async fn test_simple_recommendations(db: web::Data<DbPool>) -> AppResult<HttpResponse> {
    info!("Generando recomendaciones con función simplificada");
    
    let dominant_emotion = "relajante";
    let min_time = 60;
    let dealbreakers = vec!["combate".to_string(), "difícil".to_string()];
    
    // Usar la función simplificada directamente
    let recommendations = match simple_recommendations::get_recommendations(
        &db,
        dominant_emotion,
        min_time,
        &dealbreakers,
    ).await {
        Ok(recs) => recs,
        Err(e) => {
            error!("Error al obtener recomendaciones: {}", e);
            return Err(AppError::DatabaseError(e.to_string()));
        }
    };
    
    // Crear la respuesta
    let response = RecommendationResponse::new(
        recommendations,
        None,
    );
    
    Ok(HttpResponse::Ok().json(response))
}
